!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.props||{},r=n.props||{};Object.keys(o).forEach((function(t){var n=o[t],l=r[t];if(n!==l)if("on"===t.slice(0,2)){var i=t.toLowerCase().slice(2);e.addEventListener(i,n),l&&e.removeEventListener(i,l)}else"value"===t||"checked"===t?e[t]=n:"children"!==t&&("className"===t?e.setAttribute("class",n):e.setAttribute(t,n))})),Object.keys(r).forEach((function(t){var n=o[t],l=r[t];if(!n)if("on"===t.slice(0,2)){var i=t.toLowerCase().slice(2);e.removeEventListener(i,l)}else"children"!==t&&e.removeAttribute(t)}))}function r(e){var t=null;return"text"===e.type?t=document.createTextNode(e.props.textContent):o(t=document.createElement(e.type),e),t._virtualDOM=e,e.children.forEach((function(e){a(e,t)})),e.props&&e.props.ref&&e.props.ref(t),t}function l(e){var t=e._virtualDOM;if("text"!==t.type){var n=t.component;if(n&&n.componentWillUnmount(),t.props&&t.props.ref&&t.props.ref(null),Object.keys(t.props).forEach((function(n){if("on"===n.slice(0,2)){var o=n.toLowerCase().slice(0,2),r=t.props[n];e.removeEventListener(o,r)}})),e.childNodes.length>0)for(var o=0;o<e.childNodes.length;o++)l(e.childNodes[o]),o--;e.remove()}else e.remove()}function i(e,t,n){var o=r(e);n?t.insertBefore(o,n):t.appendChild(o);var l=e.component;l&&l.setDOM(o)}function c(e){return e&&"function"==typeof e.type}function u(e,t,n){var o=null,r=null;!function(e){var t=e.type;return t&&c(e)&&!(t.prototype&&t.prototype.render)}(e)?(o=function(e){var t=new e.type(e.props||{}),n=t.render();return n.component=t,n}(e),(r=o.component).componentWillMount()):o=function(e){return e.type(e.props||{})}(e),c(o)?u(o,t,n):i(o,t,n),r&&(r.componentDidMount(),r.props&&r.props.ref&&r.props.ref(r))}function a(e,t,n){c(e)?u(e,t,n):i(e,t,n)}function p(e,t,n,o){!function(e,t){return t&&e.type===t.constructor}(e,t)?a(e,o,n):function(e,t,n,o){if(t.componentWillReceiveProps(e.props),t.shouldComponentUpdate(e.props)){var r=t.props;t.componentWillUpdate(e.props),t.updateProps(e.props);var l=t.render();l.component=t,f(l,o,n),t.componentDidUpdate(r)}}(e,t,n,o)}function f(e,t,n){var i=n&&n._virtualDOM,c=i&&i.component;if(n){if(e.type!==i.type&&"function"!=typeof e.type){var u=r(e);n.parentNode.replaceChild(u,n)}else if("function"==typeof e.type)p(e,c,n,t);else if(i&&e.type===i.type){"text"===e.type?function(e,t,n){e.props.textContent!==t.props.textContent&&(n.textContent=e.props.textContent,n._virtualDOM=e)}(e,i,n):o(n,e,i);for(var s={},d=0,v=n.childNodes.length;d<v;d++){var y=n.childNodes[d];if(1===y.nodeType){var m=y.getAttribute("key");m&&(s[m]=y)}}var h=0===Object.keys(s).length;h?e.children.forEach((function(e,t){f(e,n,n.childNodes[t])})):e.children.forEach((function(e,t){var o=e.props.key;if(o){var r=s[o];r?n.childNodes[t]&&n.childNodes[t]!==r&&n.insertBefore(r,n.childNodes[t]):a(e,n,n.childNodes[t])}}));var b=n.childNodes;if(b.length>e.children.length)if(h)for(var E=b.length-1;E>e.children.length-1;E--)l(b[E]);else{for(var g=0;g<e.children.length;g++){var k=e.children[g].props.key;s[k]&&delete s[k]}Object.keys(s).forEach((function(e){l(s[e])}))}}}else a(e,t)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var d={createElement:function e(t,n){for(var o,r=arguments.length,l=new Array(r>2?r-2:0),i=2;i<r;i++)l[i-2]=arguments[i];var c=(o=[]).concat.apply(o,l).reduce((function(t,n){return!1!==n&&!0!==n&&null!==n&&(n instanceof Object?t.push(n):t.push(e("text",{textContent:n}))),t}),[]);return{type:t,props:Object.assign({children:c},n),children:c}},render:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.firstChild;f(e,t,n)},Component:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t}var t,n,o;return t=e,(n=[{key:"setState",value:function(e){this.state=Object.assign({},this.state,e);var t=this.render(),n=this.getDOM();f(t,n.parentNode,n)}},{key:"setDOM",value:function(e){this._dom=e}},{key:"getDOM",value:function(){return this._dom}},{key:"updateProps",value:function(e){this.props=e}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"shouldComponentUpdate",value:function(e,t){return e!=this.props||t!=this.state}},{key:"componentWillUpdate",value:function(e,t){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){}}])&&s(t.prototype,n),o&&s(t,o),e}()};function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=C(e);if(t){var r=C(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=document.getElementById("root");d.createElement("div",{className:"container"},d.createElement("h1",null,"你好 Tiny React"),d.createElement("h2",{"data-test":"test"},"(编码必杀技)"),d.createElement("div",null,"嵌套1 ",d.createElement("div",null,"嵌套 1.1")),d.createElement("h3",null,"(观察: 这个将会被改变)"),!1,d.createElement("div",null,"2"),d.createElement("span",null,"这是一段内容"),d.createElement("button",{onClick:function(){return alert("你好")}},"点击我"),d.createElement("h3",null,"这个将会被删除"),"2, 3",d.createElement("input",{type:"text",value:"13"})),d.createElement("div",{className:"container"},d.createElement("h1",null,"你好 Tiny React"),d.createElement("h2",{"data-test":"test123"},"(编码必杀技)"),d.createElement("div",null,"嵌套1 ",d.createElement("div",null,"嵌套 1.1")),d.createElement("h3",null,"(观察: 这个将会被改变)"),!1,d.createElement("div",null,"2"),d.createElement("button",{onClick:function(){return alert("你好!!!!!")}},"点击我"),d.createElement("input",{type:"text",value:"13"}));function x(){return d.createElement("div",null,"Hello")}function _(e){return d.createElement("div",null,e.title,"♥ ",d.createElement(x,null))}d.createElement(_,{title:"Hello React11"}),setTimeout((function(){d.render(d.createElement(_,{title:"Hello React22"}),j)}),2e3);var P=function(e){b(n,e);var t=g(n);function n(e){var o;return y(this,n),(o=t.call(this,e)).state={title:"Default Title"},o.handleClick=o.handleClick.bind(O(o)),o}return h(n,[{key:"handleClick",value:function(){this.setState({title:"Changed Title"})}},{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps")}},{key:"componentWillUpdate",value:function(){console.log("componentWillUpdate")}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate")}},{key:"render",value:function(){return d.createElement("div",null,this.props.name,this.props.age,d.createElement("div",null,this.state.title,d.createElement("button",{onClick:this.handleClick},"改变Title")))}}]),n}(d.Component);d.Component,d.Component}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RpbnlSZWFjdC91cGRhdGVOb2RlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlueVJlYWN0L2NyZWF0ZURPTUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RpbnlSZWFjdC91bm1vdW50Tm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlueVJlYWN0L21vdW50TmF0aXZlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlueVJlYWN0L2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RpbnlSZWFjdC9tb3VudENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlueVJlYWN0L2lzRnVuY3Rpb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RpbnlSZWFjdC9tb3VudEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RpbnlSZWFjdC9kaWZmQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9UaW55UmVhY3QvdXBkYXRlQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9UaW55UmVhY3QvZGlmZi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlueVJlYWN0L3VwZGF0ZVRleHROb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9UaW55UmVhY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RpbnlSZWFjdC9jcmVhdGVFbGVtZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9UaW55UmVhY3QvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9UaW55UmVhY3QvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInVwZGF0ZU5vZGVFbGVtZW50IiwibmV3RWxlbWVudCIsInZpcnR1YWxET00iLCJvbGRWaXJ0dWFsRE9NIiwibmV3UHJvcHMiLCJwcm9wcyIsIm9sZFByb3BzIiwia2V5cyIsImZvckVhY2giLCJwcm9wTmFtZSIsIm5ld1Byb3BzVmFsdWUiLCJvbGRQcm9wc1ZhbHVlIiwic2xpY2UiLCJldmVudE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiY3JlYXRlRE9NRWxlbWVudCIsInR5cGUiLCJkb2N1bWVudCIsImNyZWF0ZVRleHROb2RlIiwidGV4dENvbnRlbnQiLCJjcmVhdGVFbGVtZW50IiwiX3ZpcnR1YWxET00iLCJjaGlsZHJlbiIsImNoaWxkIiwibW91bnRFbGVtZW50IiwicmVmIiwidW5tb3VudE5vZGUiLCJub2RlIiwiY29tcG9uZW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJldmVudEhhbmRsZXIiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwicmVtb3ZlIiwibW91bnROYXRpdmVFbGVtZW50IiwiY29udGFpbmVyIiwib2xkRE9NIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJzZXRET00iLCJpc0Z1bmN0aW9uIiwibW91bnRDb21wb25lbnQiLCJuZXh0VmlydHVhbERPTSIsInJlbmRlciIsImlzRnVuY3Rpb25Db21wb25lbnQiLCJidWlsZENsYXNzQ29tcG9uZW50IiwiY29tcG9uZW50V2lsbE1vdW50IiwiYnVpbGRGdW5jdGlvbkNvbXBvbmVudCIsImNvbXBvbmVudERpZE1vdW50IiwiZGlmZkNvbXBvbmVudCIsIm9sZENvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwiaXNTYW1lQ29tcG9uZW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsInByZXZQcm9wcyIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJ1cGRhdGVQcm9wcyIsImRpZmYiLCJjb21wb25lbnREaWRVcGRhdGUiLCJ1cGRhdGVDb21wb25lbnQiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwidXBkYXRlVGV4dE5vZGUiLCJrZXllZEVsZW1lbnRzIiwibGVuIiwiZG9tRWxlbWVudCIsIm5vZGVUeXBlIiwiZ2V0QXR0cmlidXRlIiwiaGFzTm9LZXkiLCJvbGRDaGlsZE5vZGVzIiwiY2hpbGRFbGVtZW50cyIsImNvbmNhdCIsInJlZHVjZSIsInJlc3VsdCIsInB1c2giLCJhc3NpZ24iLCJmaXJzdENoaWxkIiwiQ29tcG9uZW50IiwidGhpcyIsInN0YXRlIiwiZ2V0RE9NIiwiZG9tIiwiX2RvbSIsIm5leHRQcm9wcyIsIm5leHRTdGF0ZSIsInByZVN0YXRlIiwicm9vdCIsImdldEVsZW1lbnRCeUlkIiwiY2xhc3NOYW1lIiwiZGF0YS10ZXN0Iiwib25DbGljayIsImFsZXJ0IiwiRGVtbyIsIkhlYXJ0IiwidGl0bGUiLCJzZXRUaW1lb3V0IiwiVGlueVJlYWN0IiwiQWxlcnQiLCJoYW5kbGVDbGljayIsInNldFN0YXRlIiwiY29uc29sZSIsImxvZyIsImFnZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFD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QyxZQUFVLFFBQWQsV0FDQSxrQ0FDTSxzQ0FFTiw0Q0FDQyxFQUNVLGdDQUNYLHNDQUNBLDBCQUFRQyxRQUFTLGtCQUFNQyxNQUFNLFFBQTdCLE9BQ0EscUNBWEYsT0FhRSx5QkFBTzVFLEtBQUssT0FBT25DLE1BQU0sUUFLM0IsdUJBQUs0RyxVQUFVLGFBQ2IsMkNBQ0Esc0JBQUlDLFlBQVUsV0FBZCxXQUNBLGtDQUNNLHNDQUVOLDRDQUNDLEVBQ1UsZ0NBQ1gsMEJBQVFDLFFBQVMsa0JBQU1DLE1BQU0sYUFBN0IsT0FDQSx5QkFBTzVFLEtBQUssT0FBT25DLE1BQU0sUUFVN0IsU0FBU2dILElBQ1AsT0FBTyxvQ0FHVCxTQUFTQyxFQUFNN0YsR0FDYixPQUNFLDJCQUNHQSxFQUFNOEYsTUFEVCxLQUVXLGdCQUFDRixFQUFELE9BbUJFLGdCQUFDQyxFQUFELENBQU9DLE1BQU0sa0JBRTlCQyxZQUFXLFdBQ1RDLEVBQVV0RCxPQUFPLGdCQUFDbUQsRUFBRCxDQUFPQyxNQUFNLGtCQUFvQlIsS0FDakQsSyxJQUVHVyxFLDhCQUNKLFdBQVlqRyxHQUFPLHdCQUNqQixjQUFNQSxJQUNEK0UsTUFBUSxDQUNYZSxNQUFPLGlCQUVULEVBQUtJLFlBQWMsRUFBS0EsWUFBWS9HLEtBQWpCLE1BTEYsRSxnREFRakIyRixLQUFLcUIsU0FBUyxDQUFFTCxNQUFPLG9CLGdEQUVDWCxHQUN4QmlCLFFBQVFDLElBQUksK0IsNENBR1pELFFBQVFDLElBQUkseUIsMkNBR1pELFFBQVFDLElBQUksd0IsK0JBR1osT0FDRSwyQkFDR3ZCLEtBQUs5RSxNQUFNOUIsS0FDWDRHLEtBQUs5RSxNQUFNc0csSUFDWiwyQkFDR3hCLEtBQUtDLE1BQU1lLE1BQ1osMEJBQVFKLFFBQVNaLEtBQUtvQixhQUF0QixpQixHQTNCVUYsRUFBVW5CLFdBNENSbUIsRUFBVW5CLFVBNkJWbUIsRUFBVW5CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZU5vZGVFbGVtZW50KFxuICBuZXdFbGVtZW50LFxuICB2aXJ0dWFsRE9NLFxuICBvbGRWaXJ0dWFsRE9NID0ge31cbikge1xuICAvLyDojrflj5boioLngrnlr7nlupTnmoTlsZ7mgKflr7nosaFcbiAgY29uc3QgbmV3UHJvcHMgPSB2aXJ0dWFsRE9NLnByb3BzIHx8IHt9XG4gIGNvbnN0IG9sZFByb3BzID0gb2xkVmlydHVhbERPTS5wcm9wcyB8fCB7fVxuICBPYmplY3Qua2V5cyhuZXdQcm9wcykuZm9yRWFjaChwcm9wTmFtZSA9PiB7XG4gICAgLy8g6I635Y+W5bGe5oCn5YC8XG4gICAgY29uc3QgbmV3UHJvcHNWYWx1ZSA9IG5ld1Byb3BzW3Byb3BOYW1lXVxuICAgIGNvbnN0IG9sZFByb3BzVmFsdWUgPSBvbGRQcm9wc1twcm9wTmFtZV1cbiAgICBpZiAobmV3UHJvcHNWYWx1ZSAhPT0gb2xkUHJvcHNWYWx1ZSkge1xuICAgICAgLy8g5Yik5pat5bGe5oCn5piv5ZCm5piv5ZCm5LqL5Lu25bGe5oCnIG9uQ2xpY2sgLT4gY2xpY2tcbiAgICAgIGlmIChwcm9wTmFtZS5zbGljZSgwLCAyKSA9PT0gXCJvblwiKSB7XG4gICAgICAgIC8vIOS6i+S7tuWQjeensFxuICAgICAgICBjb25zdCBldmVudE5hbWUgPSBwcm9wTmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDIpXG4gICAgICAgIC8vIOS4uuWFg+e0oOa3u+WKoOS6i+S7tlxuICAgICAgICBuZXdFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBuZXdQcm9wc1ZhbHVlKVxuICAgICAgICAvLyDliKDpmaTljp/mnInnmoTkuovku7bnmoTkuovku7blpITnkIblh73mlbBcbiAgICAgICAgaWYgKG9sZFByb3BzVmFsdWUpIHtcbiAgICAgICAgICBuZXdFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBvbGRQcm9wc1ZhbHVlKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09PSBcInZhbHVlXCIgfHwgcHJvcE5hbWUgPT09IFwiY2hlY2tlZFwiKSB7XG4gICAgICAgIG5ld0VsZW1lbnRbcHJvcE5hbWVdID0gbmV3UHJvcHNWYWx1ZVxuICAgICAgfSBlbHNlIGlmIChwcm9wTmFtZSAhPT0gXCJjaGlsZHJlblwiKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PT0gXCJjbGFzc05hbWVcIikge1xuICAgICAgICAgIG5ld0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgbmV3UHJvcHNWYWx1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdFbGVtZW50LnNldEF0dHJpYnV0ZShwcm9wTmFtZSwgbmV3UHJvcHNWYWx1ZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgLy8g5Yik5pat5bGe5oCn6KKr5Yig6Zmk55qE5oOF5Ya1XG4gIE9iamVjdC5rZXlzKG9sZFByb3BzKS5mb3JFYWNoKHByb3BOYW1lID0+IHtcbiAgICBjb25zdCBuZXdQcm9wc1ZhbHVlID0gbmV3UHJvcHNbcHJvcE5hbWVdXG4gICAgY29uc3Qgb2xkUHJvcHNWYWx1ZSA9IG9sZFByb3BzW3Byb3BOYW1lXVxuICAgIGlmICghbmV3UHJvcHNWYWx1ZSkge1xuICAgICAgLy8g5bGe5oCn6KKr5Yig6Zmk5LqGXG4gICAgICBpZiAocHJvcE5hbWUuc2xpY2UoMCwgMikgPT09IFwib25cIikge1xuICAgICAgICBjb25zdCBldmVudE5hbWUgPSBwcm9wTmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDIpXG4gICAgICAgIG5ld0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG9sZFByb3BzVmFsdWUpXG4gICAgICB9IGVsc2UgaWYgKHByb3BOYW1lICE9PSBcImNoaWxkcmVuXCIpIHtcbiAgICAgICAgbmV3RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUocHJvcE5hbWUpXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuIiwiaW1wb3J0IG1vdW50RWxlbWVudCBmcm9tIFwiLi9tb3VudEVsZW1lbnRcIlxuaW1wb3J0IHVwZGF0ZU5vZGVFbGVtZW50IGZyb20gXCIuL3VwZGF0ZU5vZGVFbGVtZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlRE9NRWxlbWVudCh2aXJ0dWFsRE9NKSB7XG4gIGxldCBuZXdFbGVtZW50ID0gbnVsbFxuICBpZiAodmlydHVhbERPTS50eXBlID09PSBcInRleHRcIikge1xuICAgIC8vIOaWh+acrOiKgueCuVxuICAgIG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2aXJ0dWFsRE9NLnByb3BzLnRleHRDb250ZW50KVxuICB9IGVsc2Uge1xuICAgIC8vIOWFg+e0oOiKgueCuVxuICAgIG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHZpcnR1YWxET00udHlwZSlcbiAgICB1cGRhdGVOb2RlRWxlbWVudChuZXdFbGVtZW50LCB2aXJ0dWFsRE9NKVxuICB9XG5cbiAgbmV3RWxlbWVudC5fdmlydHVhbERPTSA9IHZpcnR1YWxET01cblxuICAvLyDpgJLlvZLliJvlu7rlrZDoioLngrlcbiAgdmlydHVhbERPTS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICBtb3VudEVsZW1lbnQoY2hpbGQsIG5ld0VsZW1lbnQpXG4gIH0pXG5cbiAgaWYgKHZpcnR1YWxET00ucHJvcHMgJiYgdmlydHVhbERPTS5wcm9wcy5yZWYpIHtcbiAgICB2aXJ0dWFsRE9NLnByb3BzLnJlZihuZXdFbGVtZW50KVxuICB9XG5cbiAgcmV0dXJuIG5ld0VsZW1lbnRcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVubW91bnROb2RlKG5vZGUpIHtcbiAgLy8g6I635Y+W6IqC54K555qEIF92aXJ0dWFsRE9NIOWvueixoVxuICBjb25zdCB2aXJ0dWFsRE9NID0gbm9kZS5fdmlydHVhbERPTVxuICAvLyAxLiDmlofmnKzoioLngrnlj6/ku6Xnm7TmjqXliKDpmaRcbiAgaWYgKHZpcnR1YWxET00udHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAvLyDliKDpmaTnm7TmjqVcbiAgICBub2RlLnJlbW92ZSgpXG4gICAgLy8g6Zi75q2i56iL5bqP5ZCR5LiL5omn6KGMXG4gICAgcmV0dXJuXG4gIH1cbiAgLy8gMi4g55yL5LiA5LiL6IqC54K55piv5ZCm5piv55Sx57uE5Lu255Sf5oiQ55qEXG4gIGxldCBjb21wb25lbnQgPSB2aXJ0dWFsRE9NLmNvbXBvbmVudFxuICAvLyDlpoLmnpwgY29tcG9uZW50IOWtmOWcqCDlsLHor7TmmI7oioLngrnmmK/nlLHnu4Tku7bnlJ/miJDnmoRcbiAgaWYgKGNvbXBvbmVudCkge1xuICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCgpXG4gIH1cbiAgLy8gMy4g55yL5LiA5LiL6IqC54K56Lqr5LiK5piv5ZCm5pyJcmVm5bGe5oCnXG4gIGlmICh2aXJ0dWFsRE9NLnByb3BzICYmIHZpcnR1YWxET00ucHJvcHMucmVmKSB7XG4gICAgdmlydHVhbERPTS5wcm9wcy5yZWYobnVsbClcbiAgfVxuICAvLyA0LiDnnIvkuIDkuIvoioLngrnnmoTlsZ7mgKfkuK3mmK/lkKbmnInkuovku7blsZ7mgKdcbiAgT2JqZWN0LmtleXModmlydHVhbERPTS5wcm9wcykuZm9yRWFjaChwcm9wTmFtZSA9PiB7XG4gICAgaWYgKHByb3BOYW1lLnNsaWNlKDAsIDIpID09PSBcIm9uXCIpIHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHByb3BOYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgMilcbiAgICAgIGNvbnN0IGV2ZW50SGFuZGxlciA9IHZpcnR1YWxET00ucHJvcHNbcHJvcE5hbWVdXG4gICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpXG4gICAgfVxuICB9KVxuXG4gIC8vIDUuIOmAkuW9kuWIoOmZpOWtkOiKgueCuVxuICBpZiAobm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdW5tb3VudE5vZGUobm9kZS5jaGlsZE5vZGVzW2ldKVxuICAgICAgaS0tXG4gICAgfVxuICB9XG4gIC8vIOWIoOmZpOiKgueCuVxuICBub2RlLnJlbW92ZSgpXG59XG4iLCJpbXBvcnQgY3JlYXRlRE9NRWxlbWVudCBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50XCJcbmltcG9ydCB1bm1vdW50Tm9kZSBmcm9tIFwiLi91bm1vdW50Tm9kZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1vdW50TmF0aXZlRWxlbWVudCh2aXJ0dWFsRE9NLCBjb250YWluZXIsIG9sZERPTSkge1xuICBsZXQgbmV3RWxlbWVudCA9IGNyZWF0ZURPTUVsZW1lbnQodmlydHVhbERPTSlcbiAgLy8g5bCG6L2s5o2i5LmL5ZCO55qERE9N5a+56LGh5pS+572u5Zyo6aG16Z2i5LitXG4gIGlmIChvbGRET00pIHtcbiAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKG5ld0VsZW1lbnQsIG9sZERPTSlcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobmV3RWxlbWVudClcbiAgfVxuICAvLyDliKTmlq3ml6fnmoRET03lr7nosaHmmK/lkKblrZjlnKgg5aaC5p6c5a2Y5ZyoIOWIoOmZpFxuICAvLyBpZiAob2xkRE9NKSB7XG4gIC8vICAgdW5tb3VudE5vZGUob2xkRE9NKVxuICAvLyB9XG5cbiAgLy8g6I635Y+W57G757uE5Lu25a6e5L6L5a+56LGhXG4gIGxldCBjb21wb25lbnQgPSB2aXJ0dWFsRE9NLmNvbXBvbmVudFxuICAvLyDlpoLmnpznsbvnu4Tku7blrp7kvovlr7nosaHlrZjlnKhcbiAgaWYgKGNvbXBvbmVudCkge1xuICAgIC8vIOWwhkRPTeWvueixoeWtmOWCqOWcqOexu+e7hOS7tuWunuS+i+WvueixoeS4rVxuICAgIGNvbXBvbmVudC5zZXRET00obmV3RWxlbWVudClcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNGdW5jdGlvbih2aXJ0dWFsRE9NKSB7XG4gIHJldHVybiB2aXJ0dWFsRE9NICYmIHR5cGVvZiB2aXJ0dWFsRE9NLnR5cGUgPT09IFwiZnVuY3Rpb25cIlxufVxuIiwiaW1wb3J0IGlzRnVuY3Rpb25Db21wb25lbnQgZnJvbSBcIi4vaXNGdW5jdGlvbkNvbXBvbmVudFwiXG5pbXBvcnQgbW91bnROYXRpdmVFbGVtZW50IGZyb20gXCIuL21vdW50TmF0aXZlRWxlbWVudFwiXG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tIFwiLi9pc0Z1bmN0aW9uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW91bnRDb21wb25lbnQodmlydHVhbERPTSwgY29udGFpbmVyLCBvbGRET00pIHtcbiAgbGV0IG5leHRWaXJ0dWFsRE9NID0gbnVsbFxuICBsZXQgY29tcG9uZW50ID0gbnVsbFxuICAvLyDliKTmlq3nu4Tku7bmmK/nsbvnu4Tku7bov5jmmK/lh73mlbDnu4Tku7ZcbiAgaWYgKGlzRnVuY3Rpb25Db21wb25lbnQodmlydHVhbERPTSkpIHtcbiAgICAvLyDlh73mlbDnu4Tku7ZcbiAgICBuZXh0VmlydHVhbERPTSA9IGJ1aWxkRnVuY3Rpb25Db21wb25lbnQodmlydHVhbERPTSlcbiAgfSBlbHNlIHtcbiAgICAvLyDnsbvnu4Tku7ZcbiAgICBuZXh0VmlydHVhbERPTSA9IGJ1aWxkQ2xhc3NDb21wb25lbnQodmlydHVhbERPTSlcbiAgICBjb21wb25lbnQgPSBuZXh0VmlydHVhbERPTS5jb21wb25lbnRcbiAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KClcbiAgfVxuICBpZiAoaXNGdW5jdGlvbihuZXh0VmlydHVhbERPTSkpIHtcbiAgICBtb3VudENvbXBvbmVudChuZXh0VmlydHVhbERPTSwgY29udGFpbmVyLCBvbGRET00pXG4gIH0gZWxzZSB7XG4gICAgbW91bnROYXRpdmVFbGVtZW50KG5leHRWaXJ0dWFsRE9NLCBjb250YWluZXIsIG9sZERPTSlcbiAgfVxuICBpZiAoY29tcG9uZW50KSB7XG4gICAgY29tcG9uZW50LmNvbXBvbmVudERpZE1vdW50KClcbiAgICBpZiAoY29tcG9uZW50LnByb3BzICYmIGNvbXBvbmVudC5wcm9wcy5yZWYpIHtcbiAgICAgIGNvbXBvbmVudC5wcm9wcy5yZWYoY29tcG9uZW50KVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBidWlsZEZ1bmN0aW9uQ29tcG9uZW50KHZpcnR1YWxET00pIHtcbiAgcmV0dXJuIHZpcnR1YWxET00udHlwZSh2aXJ0dWFsRE9NLnByb3BzIHx8IHt9KVxufVxuXG5mdW5jdGlvbiBidWlsZENsYXNzQ29tcG9uZW50KHZpcnR1YWxET00pIHtcbiAgY29uc3QgY29tcG9uZW50ID0gbmV3IHZpcnR1YWxET00udHlwZSh2aXJ0dWFsRE9NLnByb3BzIHx8IHt9KVxuICBjb25zdCBuZXh0VmlydHVhbERPTSA9IGNvbXBvbmVudC5yZW5kZXIoKVxuICBuZXh0VmlydHVhbERPTS5jb21wb25lbnQgPSBjb21wb25lbnRcbiAgcmV0dXJuIG5leHRWaXJ0dWFsRE9NXG59XG4iLCJpbXBvcnQgaXNGdW5jdGlvbiBmcm9tIFwiLi9pc0Z1bmN0aW9uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNGdW5jdGlvbkNvbXBvbmVudCh2aXJ0dWFsRE9NKSB7XG4gIGNvbnN0IHR5cGUgPSB2aXJ0dWFsRE9NLnR5cGVcbiAgcmV0dXJuIChcbiAgICB0eXBlICYmIGlzRnVuY3Rpb24odmlydHVhbERPTSkgJiYgISh0eXBlLnByb3RvdHlwZSAmJiB0eXBlLnByb3RvdHlwZS5yZW5kZXIpXG4gIClcbn1cbiIsImltcG9ydCBtb3VudE5hdGl2ZUVsZW1lbnQgZnJvbSBcIi4vbW91bnROYXRpdmVFbGVtZW50XCJcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gXCIuL2lzRnVuY3Rpb25cIlxuaW1wb3J0IG1vdW50Q29tcG9uZW50IGZyb20gXCIuL21vdW50Q29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW91bnRFbGVtZW50KHZpcnR1YWxET00sIGNvbnRhaW5lciwgb2xkRE9NKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHZpcnR1YWxET00pKSB7XG4gICAgLy8gQ29tcG9uZW50XG4gICAgbW91bnRDb21wb25lbnQodmlydHVhbERPTSwgY29udGFpbmVyLCBvbGRET00pXG4gIH0gZWxzZSB7XG4gICAgLy8gTmF0aXZlRWxlbWVudFxuICAgIG1vdW50TmF0aXZlRWxlbWVudCh2aXJ0dWFsRE9NLCBjb250YWluZXIsIG9sZERPTSlcbiAgfVxufVxuIiwiaW1wb3J0IG1vdW50RWxlbWVudCBmcm9tIFwiLi9tb3VudEVsZW1lbnRcIlxuaW1wb3J0IHVwZGF0ZUNvbXBvbmVudCBmcm9tIFwiLi91cGRhdGVDb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaWZmQ29tcG9uZW50KFxuICB2aXJ0dWFsRE9NLFxuICBvbGRDb21wb25lbnQsXG4gIG9sZERPTSxcbiAgY29udGFpbmVyXG4pIHtcbiAgaWYgKGlzU2FtZUNvbXBvbmVudCh2aXJ0dWFsRE9NLCBvbGRDb21wb25lbnQpKSB7XG4gICAgLy8g5ZCM5LiA5Liq57uE5Lu2IOWBmue7hOS7tuabtOaWsOaTjeS9nFxuICAgIHVwZGF0ZUNvbXBvbmVudCh2aXJ0dWFsRE9NLCBvbGRDb21wb25lbnQsIG9sZERPTSwgY29udGFpbmVyKVxuICB9IGVsc2Uge1xuICAgIC8vIOS4jeaYr+WQjOS4gOS4que7hOS7tlxuICAgIG1vdW50RWxlbWVudCh2aXJ0dWFsRE9NLCBjb250YWluZXIsIG9sZERPTSlcbiAgfVxufVxuLy8g5Yik5pat5piv5ZCm5piv5ZCM5LiA5Liq57uE5Lu2XG5mdW5jdGlvbiBpc1NhbWVDb21wb25lbnQodmlydHVhbERPTSwgb2xkQ29tcG9uZW50KSB7XG4gIHJldHVybiBvbGRDb21wb25lbnQgJiYgdmlydHVhbERPTS50eXBlID09PSBvbGRDb21wb25lbnQuY29uc3RydWN0b3Jcbn1cbiIsImltcG9ydCBkaWZmIGZyb20gXCIuL2RpZmZcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVDb21wb25lbnQoXG4gIHZpcnR1YWxET00sXG4gIG9sZENvbXBvbmVudCxcbiAgb2xkRE9NLFxuICBjb250YWluZXJcbikge1xuICBvbGRDb21wb25lbnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyh2aXJ0dWFsRE9NLnByb3BzKVxuICBpZiAob2xkQ29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZSh2aXJ0dWFsRE9NLnByb3BzKSkge1xuICAgIC8vIOacquabtOWJjeWJjeeahHByb3BzXG4gICAgbGV0IHByZXZQcm9wcyA9IG9sZENvbXBvbmVudC5wcm9wc1xuICAgIG9sZENvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKHZpcnR1YWxET00ucHJvcHMpXG4gICAgLy8g57uE5Lu25pu05pawXG4gICAgb2xkQ29tcG9uZW50LnVwZGF0ZVByb3BzKHZpcnR1YWxET00ucHJvcHMpXG4gICAgLy8g6I635Y+W57uE5Lu26L+U5Zue55qE5pyA5paw55qEIHZpcnR1YWxET01cbiAgICBsZXQgbmV4dFZpcnR1YWxET00gPSBvbGRDb21wb25lbnQucmVuZGVyKClcbiAgICAvLyDmm7TmlrAgY29tcG9uZW50IOe7hOS7tuWunuS+i+WvueixoVxuICAgIG5leHRWaXJ0dWFsRE9NLmNvbXBvbmVudCA9IG9sZENvbXBvbmVudFxuICAgIC8vIOavlOWvuVxuICAgIGRpZmYobmV4dFZpcnR1YWxET00sIGNvbnRhaW5lciwgb2xkRE9NKVxuICAgIG9sZENvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKVxuICB9XG59XG4iLCJpbXBvcnQgbW91bnRFbGVtZW50IGZyb20gXCIuL21vdW50RWxlbWVudFwiO1xuaW1wb3J0IHVwZGF0ZVRleHROb2RlIGZyb20gXCIuL3VwZGF0ZVRleHROb2RlXCI7XG5pbXBvcnQgdXBkYXRlTm9kZUVsZW1lbnQgZnJvbSBcIi4vdXBkYXRlTm9kZUVsZW1lbnRcIjtcbmltcG9ydCBjcmVhdGVET01FbGVtZW50IGZyb20gXCIuL2NyZWF0ZURPTUVsZW1lbnRcIjtcbmltcG9ydCB1bm1vdW50Tm9kZSBmcm9tIFwiLi91bm1vdW50Tm9kZVwiO1xuaW1wb3J0IGRpZmZDb21wb25lbnQgZnJvbSBcIi4vZGlmZkNvbXBvbmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaWZmKHZpcnR1YWxET00sIGNvbnRhaW5lciwgb2xkRE9NKSB7XG4gIGNvbnN0IG9sZFZpcnR1YWxET00gPSBvbGRET00gJiYgb2xkRE9NLl92aXJ0dWFsRE9NO1xuICBjb25zdCBvbGRDb21wb25lbnQgPSBvbGRWaXJ0dWFsRE9NICYmIG9sZFZpcnR1YWxET00uY29tcG9uZW50O1xuICAvLyDliKTmlq0gb2xkRE9NIOaYr+WQpuWtmOWcqFxuICBpZiAoIW9sZERPTSkge1xuICAgIG1vdW50RWxlbWVudCh2aXJ0dWFsRE9NLCBjb250YWluZXIpO1xuICB9IGVsc2UgaWYgKFxuICAgIC8vIOWmguaenOimgeavlOWvueeahOS4pOS4quiKgueCueexu+Wei+S4jeebuOWQjFxuICAgIHZpcnR1YWxET00udHlwZSAhPT0gb2xkVmlydHVhbERPTS50eXBlICYmXG4gICAgLy8g5bm25LiU6IqC54K555qE57G75Z6L5LiN5piv57uE5Lu2IOWboOS4uue7hOS7tuimgeWNleeLrOWkhOeQhlxuICAgIHR5cGVvZiB2aXJ0dWFsRE9NLnR5cGUgIT09IFwiZnVuY3Rpb25cIlxuICApIHtcbiAgICAvLyDkuI3pnIDopoHlr7nmr5RcbiAgICAvLyDkvb/nlKjmlrDnmoQgdmlydHVhbERPTSDlr7nosaHnlJ/miJDnnJ/lrp4gRE9NIOWvueixoVxuICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBjcmVhdGVET01FbGVtZW50KHZpcnR1YWxET00pO1xuICAgIC8vIOS9v+eUqOaWsOeahCBET00g5a+56LGh5pu/5o2i5pen55qEIERPTSDlr7nosaFcbiAgICBvbGRET00ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3RWxlbWVudCwgb2xkRE9NKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmlydHVhbERPTS50eXBlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyDnu4Tku7ZcbiAgICBkZWJ1Z2dlclxuICAgIGRpZmZDb21wb25lbnQodmlydHVhbERPTSwgb2xkQ29tcG9uZW50LCBvbGRET00sIGNvbnRhaW5lcik7XG4gIH0gZWxzZSBpZiAob2xkVmlydHVhbERPTSAmJiB2aXJ0dWFsRE9NLnR5cGUgPT09IG9sZFZpcnR1YWxET00udHlwZSkge1xuICAgIGlmICh2aXJ0dWFsRE9NLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAvLyDmm7TmlrDlhoXlrrlcbiAgICAgIHVwZGF0ZVRleHROb2RlKHZpcnR1YWxET00sIG9sZFZpcnR1YWxET00sIG9sZERPTSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOabtOaWsOWFg+e0oOiKgueCueWxnuaAp1xuICAgICAgdXBkYXRlTm9kZUVsZW1lbnQob2xkRE9NLCB2aXJ0dWFsRE9NLCBvbGRWaXJ0dWFsRE9NKTtcbiAgICB9XG5cbiAgICAvLyAxLiDlsIbmi6XmnIlrZXnlsZ7mgKfnmoTlrZDlhYPntKDmlL7nva7lnKjkuIDkuKrljZXni6znmoTlr7nosaHkuK1cbiAgICBsZXQga2V5ZWRFbGVtZW50cyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBvbGRET00uY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbGV0IGRvbUVsZW1lbnQgPSBvbGRET00uY2hpbGROb2Rlc1tpXTtcbiAgICAgIGlmIChkb21FbGVtZW50Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGxldCBrZXkgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShcImtleVwiKTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIGtleWVkRWxlbWVudHNba2V5XSA9IGRvbUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaGFzTm9LZXkgPSBPYmplY3Qua2V5cyhrZXllZEVsZW1lbnRzKS5sZW5ndGggPT09IDA7XG5cbiAgICBpZiAoaGFzTm9LZXkpIHtcbiAgICAgIC8vIOWvueavlOWtkOiKgueCuVxuICAgICAgdmlydHVhbERPTS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCwgaSkgPT4ge1xuICAgICAgICBkaWZmKGNoaWxkLCBvbGRET00sIG9sZERPTS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAyLiDlvqrnjq8gdmlydHVhbERPTSDnmoTlrZDlhYPntKAg6I635Y+W5a2Q5YWD57Sg55qEIGtleSDlsZ7mgKdcbiAgICAgIHZpcnR1YWxET00uY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQsIGkpID0+IHtcbiAgICAgICAgbGV0IGtleSA9IGNoaWxkLnByb3BzLmtleTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIGxldCBkb21FbGVtZW50ID0ga2V5ZWRFbGVtZW50c1trZXldO1xuICAgICAgICAgIGlmIChkb21FbGVtZW50KSB7XG4gICAgICAgICAgICAvLyAzLiDnnIvnnIvlvZPliY3kvY3nva7nmoTlhYPntKDmmK/kuI3mmK/miJHku6zmnJ/mnJvnmoTlhYPntKBcbiAgICAgICAgICAgIGlmIChvbGRET00uY2hpbGROb2Rlc1tpXSAmJiBvbGRET00uY2hpbGROb2Rlc1tpXSAhPT0gZG9tRWxlbWVudCkge1xuICAgICAgICAgICAgICBvbGRET00uaW5zZXJ0QmVmb3JlKGRvbUVsZW1lbnQsIG9sZERPTS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5paw5aKe5YWD57SgXG4gICAgICAgICAgICBtb3VudEVsZW1lbnQoY2hpbGQsIG9sZERPTSwgb2xkRE9NLmNoaWxkTm9kZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g5Yig6Zmk6IqC54K5XG4gICAgLy8g6I635Y+W5pen6IqC54K5XG4gICAgbGV0IG9sZENoaWxkTm9kZXMgPSBvbGRET00uY2hpbGROb2RlcztcbiAgICAvLyDliKTmlq3ml6foioLngrnnmoTmlbDph49cbiAgICBpZiAob2xkQ2hpbGROb2Rlcy5sZW5ndGggPiB2aXJ0dWFsRE9NLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgaWYgKGhhc05vS2V5KSB7XG4gICAgICAgIC8vIOacieiKgueCuemcgOimgeiiq+WIoOmZpFxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGxldCBpID0gb2xkQ2hpbGROb2Rlcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGkgPiB2aXJ0dWFsRE9NLmNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaS0tXG4gICAgICAgICkge1xuICAgICAgICAgIHVubW91bnROb2RlKG9sZENoaWxkTm9kZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDpgJrov4drZXnlsZ7mgKfliKDpmaToioLngrlcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRDaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vICAgbGV0IG9sZENoaWxkID0gb2xkQ2hpbGROb2Rlc1tpXVxuICAgICAgICAvLyAgIGxldCBvbGRDaGlsZEtleSA9IG9sZENoaWxkLl92aXJ0dWFsRE9NLnByb3BzLmtleVxuICAgICAgICAvLyAgIGxldCBmb3VuZCA9IGZhbHNlXG4gICAgICAgIC8vICAgZm9yIChsZXQgbiA9IDA7IG4gPCB2aXJ0dWFsRE9NLmNoaWxkcmVuLmxlbmd0aDsgbisrKSB7XG4gICAgICAgIC8vICAgICBpZiAob2xkQ2hpbGRLZXkgPT09IHZpcnR1YWxET00uY2hpbGRyZW5bbl0ucHJvcHMua2V5KSB7XG4gICAgICAgIC8vICAgICAgIGZvdW5kID0gdHJ1ZVxuICAgICAgICAvLyAgICAgICBicmVha1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIC8vICAgICB1bm1vdW50Tm9kZShvbGRDaGlsZClcbiAgICAgICAgLy8gICB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCB2aXJ0dWFsRE9NLmNoaWxkcmVuLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gdmlydHVhbERPTS5jaGlsZHJlbltuXS5wcm9wcy5rZXk7XG4gICAgICAgICAgaWYgKGtleWVkRWxlbWVudHNba2V5XSkge1xuICAgICAgICAgICAgZGVsZXRlIGtleWVkRWxlbWVudHNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmtleXMoa2V5ZWRFbGVtZW50cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgdW5tb3VudE5vZGUoa2V5ZWRFbGVtZW50c1trZXldKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVUZXh0Tm9kZSh2aXJ0dWFsRE9NLCBvbGRWaXJ0dWFsRE9NLCBvbGRET00pIHtcbiAgaWYgKHZpcnR1YWxET00ucHJvcHMudGV4dENvbnRlbnQgIT09IG9sZFZpcnR1YWxET00ucHJvcHMudGV4dENvbnRlbnQpIHtcbiAgICBvbGRET00udGV4dENvbnRlbnQgPSB2aXJ0dWFsRE9NLnByb3BzLnRleHRDb250ZW50XG4gICAgb2xkRE9NLl92aXJ0dWFsRE9NID0gdmlydHVhbERPTVxuICB9XG59XG4iLCJpbXBvcnQgY3JlYXRlRWxlbWVudCBmcm9tIFwiLi9jcmVhdGVFbGVtZW50XCJcbmltcG9ydCByZW5kZXIgZnJvbSBcIi4vcmVuZGVyXCJcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjcmVhdGVFbGVtZW50LFxuICByZW5kZXIsXG4gIENvbXBvbmVudFxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcywgLi4uY2hpbGRyZW4pIHtcbiAgY29uc3QgY2hpbGRFbGVtZW50cyA9IFtdLmNvbmNhdCguLi5jaGlsZHJlbikucmVkdWNlKChyZXN1bHQsIGNoaWxkKSA9PiB7XG4gICAgaWYgKGNoaWxkICE9PSBmYWxzZSAmJiBjaGlsZCAhPT0gdHJ1ZSAmJiBjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LnB1c2goY3JlYXRlRWxlbWVudChcInRleHRcIiwgeyB0ZXh0Q29udGVudDogY2hpbGQgfSkpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfSwgW10pXG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICBwcm9wczogT2JqZWN0LmFzc2lnbih7IGNoaWxkcmVuOiBjaGlsZEVsZW1lbnRzIH0sIHByb3BzKSxcbiAgICBjaGlsZHJlbjogY2hpbGRFbGVtZW50c1xuICB9XG59XG4iLCJpbXBvcnQgZGlmZiBmcm9tIFwiLi9kaWZmXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyKFxuICB2aXJ0dWFsRE9NLFxuICBjb250YWluZXIsXG4gIG9sZERPTSA9IGNvbnRhaW5lci5maXJzdENoaWxkXG4pIHtcbiAgZGlmZih2aXJ0dWFsRE9NLCBjb250YWluZXIsIG9sZERPTSlcbn1cbiIsImltcG9ydCBkaWZmIGZyb20gXCIuL2RpZmZcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHRoaXMucHJvcHMgPSBwcm9wc1xuICB9XG4gIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUsIHN0YXRlKVxuICAgIC8vIOiOt+WPluacgOaWsOeahOimgea4suafk+eahCB2aXJ0dWFsRE9NIOWvueixoVxuICAgIGxldCB2aXJ0dWFsRE9NID0gdGhpcy5yZW5kZXIoKVxuICAgIC8vIOiOt+WPluaXp+eahCB2aXJ0dWFsRE9NIOWvueixoSDov5vooYzmr5Tlr7lcbiAgICBsZXQgb2xkRE9NID0gdGhpcy5nZXRET00oKVxuICAgIC8vIOiOt+WPluWuueWZqFxuICAgIGxldCBjb250YWluZXIgPSBvbGRET00ucGFyZW50Tm9kZVxuICAgIC8vIOWunueOsOWvueixoVxuICAgIGRpZmYodmlydHVhbERPTSwgY29udGFpbmVyLCBvbGRET00pXG4gIH1cbiAgc2V0RE9NKGRvbSkge1xuICAgIHRoaXMuX2RvbSA9IGRvbVxuICB9XG4gIGdldERPTSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZG9tXG4gIH1cbiAgdXBkYXRlUHJvcHMocHJvcHMpIHtcbiAgICB0aGlzLnByb3BzID0gcHJvcHNcbiAgfVxuXG4gIC8vIOeUn+WRveWRqOacn+WHveaVsFxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7fVxuICBjb21wb25lbnREaWRNb3VudCgpIHt9XG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7fVxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICByZXR1cm4gbmV4dFByb3BzICE9IHRoaXMucHJvcHMgfHwgbmV4dFN0YXRlICE9IHRoaXMuc3RhdGVcbiAgfVxuICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7fVxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmVTdGF0ZSkge31cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7fVxufVxuIiwiaW1wb3J0IFRpbnlSZWFjdCBmcm9tIFwiLi9UaW55UmVhY3RcIjtcblxuY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKTtcbi8vIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcbi8vICAgXCJkaXZcIixcbi8vICAge1xuLy8gICAgIGNsYXNzTmFtZTogXCJjb250YWluZXJcIixcbi8vICAgfSxcbi8vICAgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwgbnVsbCwgXCJcXHU0RjYwXFx1NTk3RCBUaW55IFJlYWN0XCIpLFxuLy8gICAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4vLyAgICAgXCJoMlwiLFxuLy8gICAgIHtcbi8vICAgICAgIFwiZGF0YS10ZXN0XCI6IFwidGVzdFwiLFxuLy8gICAgIH0sXG4vLyAgICAgXCIoXFx1N0YxNlxcdTc4MDFcXHU1RkM1XFx1Njc0MFxcdTYyODApXCJcbi8vICAgKSxcbi8vICAgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuLy8gICAgIFwiZGl2XCIsXG4vLyAgICAgbnVsbCxcbi8vICAgICBcIlxcdTVENENcXHU1OTU3MSBcIixcbi8vICAgICAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXCJcXHU1RDRDXFx1NTk1NyAxLjFcIilcbi8vICAgKSxcbi8vICAgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuLy8gICAgIFwiaDNcIixcbi8vICAgICBudWxsLFxuLy8gICAgIFwiKFxcdTg5QzJcXHU1QkRGOiBcXHU4RkQ5XFx1NEUyQVxcdTVDMDZcXHU0RjFBXFx1ODhBQlxcdTY1MzlcXHU1M0Q4KVwiXG4vLyAgICksXG4vLyAgIDIgPT0gMSAmJlxuLy8gICAgIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcbi8vICAgICAgIFwiZGl2XCIsXG4vLyAgICAgICBudWxsLFxuLy8gICAgICAgXCJcXHU1OTgyXFx1Njc5QzJcXHU1NDhDMVxcdTc2RjhcXHU3QjQ5XFx1NkUzMlxcdTY3RDNcXHU1RjUzXFx1NTI0RFxcdTUxODVcXHU1QkI5XCJcbi8vICAgICApLFxuLy8gICAyID09IDIgJiYgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFwiMlwiKSxcbi8vICAgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuLy8gICAgIFwic3BhblwiLFxuLy8gICAgIG51bGwsXG4vLyAgICAgXCJcXHU4RkQ5XFx1NjYyRlxcdTRFMDBcXHU2QkI1XFx1NTE4NVxcdTVCQjlcIlxuLy8gICApLFxuLy8gICAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4vLyAgICAgXCJidXR0b25cIixcbi8vICAgICB7XG4vLyAgICAgICBvbkNsaWNrOiAoKSA9PiBhbGVydChcIuS9oOWlvVwiKSxcbi8vICAgICB9LFxuLy8gICAgIFwiXFx1NzBCOVxcdTUxRkJcXHU2MjExXCJcbi8vICAgKSxcbi8vICAgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuLy8gICAgIFwiaDNcIixcbi8vICAgICBudWxsLFxuLy8gICAgIFwiXFx1OEZEOVxcdTRFMkFcXHU1QzA2XFx1NEYxQVxcdTg4QUJcXHU1MjIwXFx1OTY2NFwiXG4vLyAgICksXG4vLyAgIFwiMiwgM1wiLFxuLy8gICAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4vLyAgICAgdHlwZTogXCJ0ZXh0XCIsXG4vLyAgICAgdmFsdWU6IFwiMTNcIixcbi8vICAgfSlcbi8vICk7XG5jb25zdCB2aXJ0dWFsRE9NID0gKFxuICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgIDxoMT7kvaDlpb0gVGlueSBSZWFjdDwvaDE+XG4gICAgPGgyIGRhdGEtdGVzdD1cInRlc3RcIj4o57yW56CB5b+F5p2A5oqAKTwvaDI+XG4gICAgPGRpdj5cbiAgICAgIOW1jOWllzEgPGRpdj7ltYzlpZcgMS4xPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGgzPijop4Llr586IOi/meS4quWwhuS8muiiq+aUueWPmCk8L2gzPlxuICAgIHsyID09IDEgJiYgPGRpdj7lpoLmnpwy5ZKMMeebuOetiea4suafk+W9k+WJjeWGheWuuTwvZGl2Pn1cbiAgICB7MiA9PSAyICYmIDxkaXY+MjwvZGl2Pn1cbiAgICA8c3Bhbj7ov5nmmK/kuIDmrrXlhoXlrrk8L3NwYW4+XG4gICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBhbGVydChcIuS9oOWlvVwiKX0+54K55Ye75oiRPC9idXR0b24+XG4gICAgPGgzPui/meS4quWwhuS8muiiq+WIoOmZpDwvaDM+XG4gICAgMiwgM1xuICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwiMTNcIiAvPlxuICA8L2Rpdj5cbik7XG5cbmNvbnN0IG1vZGlmeURPTSA9IChcbiAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICA8aDE+5L2g5aW9IFRpbnkgUmVhY3Q8L2gxPlxuICAgIDxoMiBkYXRhLXRlc3Q9XCJ0ZXN0MTIzXCI+KOe8lueggeW/headgOaKgCk8L2gyPlxuICAgIDxkaXY+XG4gICAgICDltYzlpZcxIDxkaXY+5bWM5aWXIDEuMTwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxoMz4o6KeC5a+fOiDov5nkuKrlsIbkvJrooqvmlLnlj5gpPC9oMz5cbiAgICB7MiA9PSAxICYmIDxkaXY+5aaC5p6cMuWSjDHnm7jnrYnmuLLmn5PlvZPliY3lhoXlrrk8L2Rpdj59XG4gICAgezIgPT0gMiAmJiA8ZGl2PjI8L2Rpdj59XG4gICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBhbGVydChcIuS9oOWlvSEhISEhXCIpfT7ngrnlh7vmiJE8L2J1dHRvbj5cbiAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cIjEzXCIgLz5cbiAgPC9kaXY+XG4pO1xuXG4vLyBUaW55UmVhY3QucmVuZGVyKHZpcnR1YWxET00sIHJvb3QpXG5cbi8vIHNldFRpbWVvdXQoKCkgPT4ge1xuLy8gICBUaW55UmVhY3QucmVuZGVyKG1vZGlmeURPTSwgcm9vdClcbi8vIH0sIDIwMDApXG5cbmZ1bmN0aW9uIERlbW8oKSB7XG4gIHJldHVybiA8ZGl2PkhlbGxvPC9kaXY+O1xufVxuXG5mdW5jdGlvbiBIZWFydChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICB7cHJvcHMudGl0bGV9XG4gICAgICAmaGVhcnRzOyA8RGVtbyAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vLyBmdW5jdGlvbiBIZWFydChwcm9wcykge1xuLy8gICByZXR1cm4gLyojX19QVVJFX18qLyBUaW55UmVhY3QuY3JlYXRlRWxlbWVudChcbi8vICAgICBcImRpdlwiLFxuLy8gICAgIG51bGwsXG4vLyAgICAgcHJvcHMudGl0bGUsXG4vLyAgICAgXCJcXHUyNjY1IFwiLFxuLy8gICAgIC8qI19fUFVSRV9fKi8gVGlueVJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVtbywgbnVsbClcbi8vICAgKTtcbi8vIH1cblxuLy8gLyojX19QVVJFX18qLyBUaW55UmVhY3QuY3JlYXRlRWxlbWVudChIZWFydCwge1xuLy8gICB0aXRsZTogXCJIZWxsbyBSZWFjdFwiLFxuLy8gfSk7XG5cblRpbnlSZWFjdC5yZW5kZXIoPEhlYXJ0IHRpdGxlPVwiSGVsbG8gUmVhY3QxMVwiIC8+LCByb290KTtcblxuc2V0VGltZW91dCgoKSA9PiB7XG4gIFRpbnlSZWFjdC5yZW5kZXIoPEhlYXJ0IHRpdGxlPVwiSGVsbG8gUmVhY3QyMlwiIC8+LCByb290KTtcbn0sIDIwMDApO1xuXG5jbGFzcyBBbGVydCBleHRlbmRzIFRpbnlSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdGl0bGU6IFwiRGVmYXVsdCBUaXRsZVwiLFxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuICBoYW5kbGVDbGljaygpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgdGl0bGU6IFwiQ2hhbmdlZCBUaXRsZVwiIH0pO1xuICB9XG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgY29uc29sZS5sb2coXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIpO1xuICB9XG4gIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgY29uc29sZS5sb2coXCJjb21wb25lbnRXaWxsVXBkYXRlXCIpO1xuICB9XG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBjb25zb2xlLmxvZyhcImNvbXBvbmVudERpZFVwZGF0ZVwiKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgIHt0aGlzLnByb3BzLmFnZX1cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9PuaUueWPmFRpdGxlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBwYXJlbnRmbiA9IChjaGlsZCkgPT4ge1xuICAvLyDpgJrov4djaGlsZOe7meWtkOe7hOW7uuS8oOWAvFxufTtcbi8vIFRpbnlSZWFjdC5yZW5kZXIoPEFsZXJ0IG5hbWU9XCLlvKDkuIlcIiBhZ2U9ezIwfSAgcmVmPXtwYXJlbnRmbn0gLz4sIHJvb3QpXG5cbi8vIHNldFRpbWVvdXQoKCkgPT4ge1xuLy8gICBUaW55UmVhY3QucmVuZGVyKDxBbGVydCBuYW1lPVwi5p2O5ZubXCIgYWdlPXs1MH0gLz4sIHJvb3QpXG4vLyAgIC8vIFRpbnlSZWFjdC5yZW5kZXIoPEhlYXJ0IHRpdGxlPVwi5oiR5pivSGVhcnTnu4Tku7ZcIiAvPiwgcm9vdClcbi8vIH0sIDIwMDApXG5cbmNsYXNzIERlbW9SZWYgZXh0ZW5kcyBUaW55UmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuICBoYW5kbGVDbGljaygpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmlucHV0LnZhbHVlKVxuICAgIGNvbnNvbGUubG9nKHRoaXMuaW5wdXQpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYWxlcnQpO1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnNvbGUubG9nKFwiY29tcG9uZW50RGlkTW91bnRcIik7XG4gIH1cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc29sZS5sb2coXCJjb21wb25lbnRXaWxsVW5tb3VudFwiKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlZj17KGlucHV0KSA9PiAodGhpcy5pbnB1dCA9IGlucHV0KX0gLz5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT7mjInpkq48L2J1dHRvbj5cbiAgICAgICAgPEFsZXJ0IHJlZj17KGFsZXJ0KSA9PiAodGhpcy5hbGVydCA9IGFsZXJ0KX0gbmFtZT1cIuW8oOS4iVwiIGFnZT17MjB9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbi8vIFRpbnlSZWFjdC5yZW5kZXIoPERlbW9SZWYgLz4sIHJvb3QpXG5cbmNsYXNzIEtleURlbW8gZXh0ZW5kcyBUaW55UmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHBlcnNvbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgIG5hbWU6IFwi5byg5LiJXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogMixcbiAgICAgICAgICBuYW1lOiBcIuadjuWbm1wiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IDMsXG4gICAgICAgICAgbmFtZTogXCLnjovkupRcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiA0LFxuICAgICAgICAgIG5hbWU6IFwi6LW15YWtXCIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuICBoYW5kbGVDbGljaygpIHtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZSkpO1xuICAgIC8vIG5ld1N0YXRlLnBlcnNvbnMucHVzaChuZXdTdGF0ZS5wZXJzb25zLnNoaWZ0KCkpXG4gICAgLy8gbmV3U3RhdGUucGVyc29ucy5zcGxpY2UoMSwgMCwgeyBpZDogTWF0aC5yYW5kb20oMTApLCBuYW1lOiBcIuadjumAtVwiIH0pXG4gICAgbmV3U3RhdGUucGVyc29ucy5wb3AoKTtcbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDx1bD5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5wZXJzb25zLm1hcCgocGVyc29uKSA9PiAoXG4gICAgICAgICAgICA8bGkga2V5PXtwZXJzb24uaWR9PntwZXJzb24ubmFtZX08L2xpPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3VsPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9PuaMiemSrjwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG4vLyBUaW55UmVhY3QucmVuZGVyKDxLZXlEZW1vIC8+LCByb290KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=